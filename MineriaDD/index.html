<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minería de Datos</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="css/c3/c3.min.css">
    <link rel="stylesheet" href="css/menu.css">
    <link rel="stylesheet" href="jqwidgets/styles/jqx.base.css" type="text/css" />
    <link rel="stylesheet" href="jqwidgets/styles/jqx.ui-smoothness.css" type="text/css" />
    <link rel="shortcut icon" href="/MineriaDD/img/tp_triangulo.png" />

    <script src="js/c3/d3-5.8.2.min.js" charset="utf-8"></script>
    <script src="js/c3/c3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script type="text/javascript" src="jqwidgets/jqxcore.js"></script>
    <script type="text/javascript" src="jqwidgets/jqxcheckbox.js"></script>
    <script type="text/javascript" src="jqwidgets/jqxdata.js"></script>
    <script type="text/javascript" src="jqwidgets/jqxdata.export.js"></script>
    <script type="text/javascript" src="jqwidgets/jqxexport.js"></script>
    <script type="text/javascript" src="jqwidgets/jqxbuttons.js"></script>
    <script type="text/javascript" src="jqwidgets/jqxscrollbar.js"></script>
    <script type="text/javascript" src="jqwidgets/jqxdatatable.js"></script>
    <script type="text/javascript" src="jqwidgets/jqxmenu.js"></script>
    <script type="text/javascript" src="jqwidgets/jqxgrid.js"></script>
    <script type="text/javascript" src="jqwidgets/jqxgrid.selection.js"></script>
    <script type="text/javascript" src="jqwidgets/jqxlistbox.js"></script>
    <script type="text/javascript" src="jqwidgets/jqxdropdownlist.js"></script>
    <script type="text/javascript" src="jqwidgets/jqxgrid.pager.js"></script>
    <script type="text/javascript" src="jqwidgets/jqxgrid.filter.js"></script>
    <script type="text/javascript" src="jqwidgets/jqxgrid.sort.js"></script>
    <script type="text/javascript" src="jqwidgets/jqxgrid.columnsresize.js"></script>
    <script type="text/javascript" src="jqwidgets/jqxrating.js"></script>
    <script type="text/javascript" src="jqwidgets/globalization/globalize.js"></script>
    <script type="text/javascript" src="jqwidgets/jqxgrid.export.js"></script>
    <script type="text/javascript" src="scripts/jszip.min.js"></script>
    <!-- <script type="text/javascript" src="scripts/demos.js"></script> -->
    <!-- <script type="text/javascript" src="js/generatedata.js"></script> -->
    <script type="text/javascript" src="js/localization.js"></script>
    <!-- <script type="text/javascript" src="js/tabla.js"></script> -->

</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid menuPrincipal">

            <a class="navbar-brand" href="#">
                <img src="img/LOGO_TP_Residencial.jpg" style="height: 70px;" />
            </a>

            <div class="collapse navbar-collapse">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">

                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">
                            <div class="nombreMenu" id="mas72hrs">
                                <strong class="textoMenu">Indicadores de Operación</strong>
                            </div>
                        </a>
                    </li>

                    <!-- <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">
                            <div class="nombreMenu" id="backlog">
                                <strong class="textoMenu">Backlog</strong>
                            </div>
                        </a>
                    </li> -->

                    <li class="nav-item dropdown">
                        <a class="nav-link active" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <div class="nombreMenu" id="incumplimiento">
                                <strong class="textoMenu">Top Incumplimiento</strong>
                            </div>
                        </a>

                        <!-- <ul class="dropdown-menu listaRein" aria-labelledby="navbarDarkDropdownMenuLink">
                            <li><a class="dropdown-item" href="#" id="incumIndicador">Indicador</a></li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li><a class="dropdown-item" href="#" id="incumTop">Top Semanal</a></li>
                        </ul> -->

                    </li>

                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">
                            <div class="nombreMenu" id="top">
                                <strong class="textoMenu">Top del día</strong>
                            </div>
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">
                            <div class="nombreMenu" id="productividad">
                                <strong class="textoMenu">Desempeño Cuadrillas PI</strong>
                            </div>
                        </a>
                    </li>
                    <li class="nav-item dropdown">

                        <a class="nav-link active" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <div class="nombreMenu" id="reincidencias">
                                <strong class="textoMenu">Reincidencias</strong>
                            </div>
                        </a>
                    
                        <ul class="dropdown-menu listaRein" aria-labelledby="navbarDarkDropdownMenuLink">
                            <li><a class="dropdown-item" href="#" id="porTecnico">Por técnico</a></li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li><a class="dropdown-item" href="#" id="ticketRep">Indicador Mensual</a></li>
                        </ul>
                    
                    </li>

                </ul>

                <form class="d-flex">
                    <img src="img/CONECTA_MAS.png" alt="conecta_mas" style="height: 70px;" id="imgConecta">
                </form>

            </div>

        </div>
    </nav>

    <br>

    <div class="row mb-3" id="divReinTitulo">
        <div class="col-lg-12 col-md-12 col-sm-6 text-center">
            <label class="tituloGris" id="tituloReincidencias" style="font-size: large;"></label>
        </div>
    </div>

    <div class="row">

        <div id="desDireccion" class="col-md-4 col-sm-12">
            <div class="row">
                <div class="col-md-3 col-sm-12 ">
                    <label id="labelZona" for="opcDireccion">&nbsp;&nbsp;&nbsp;Dirección</label>
                </div>
                <div class="col-md-9 col-sm-12">
                    <form>
                        <select name="opcDireccion" id="opcDireccion" class="form-control-select" style="width: 300px; margin-right: 20px;">
                            <option selected>NACIONAL</option>
                            <option>CENTRO</option>
                            <option>NORESTE-FRONTERA</option>
                            <option>NORTE-PACIFICO</option>
                            <option>OCCIDENTE-BAJIO</option>
                            <option>ORIENTE-SUR</option>
                        </select>
                    </form>
                </div>
            </div>
        </div>
        
        <div id="desPlaza" class="col-md-4 col-sm-12">
            <div class="row">
                <div class="col-md-3 col-sm-12 ">
                    <label for="opcPlaza" id="lblOpcPlaza">&nbsp;&nbsp;&nbsp;Plaza</label>
                </div>
                <div class="col-md-9 col-sm-12">
                    <form>
                        <select name="opcPlaza" id="opcPlaza" class="form-control-select" style="width: 300px; margin-right: 20px;">
                        </select>
                    </form>
                </div>
            </div>
        </div>
        
        <div id="desDistrito" class="col-md-4 col-sm-12">
            <div class="row">
                <div class="col-md-2 col-sm-12 ">
                    <label for="opcDistrito">&nbsp;&nbsp;&nbsp;Distrito</label>
                </div>
                <div class="col-md-10 col-sm-12">
                    <form>
                        <select name="opcDistrito" id="opcDistrito" class="form-control-select" style="width: 300px; margin-right: 20px;">

                        </select>
                    </form>
                </div>
            </div>
        </div>

    </div>

    <div id="kpiTodos" class="row">
    
        <div id="desKpiDireccion" class="col-md-4 col-sm-12">
            <div class="row">
                <div id="kpiDireccion" class="col-md-12 col-sm-4">
        
                </div>
            </div>
        </div>
        
        <div id="desKpiRegion" class="col-md-4 col-sm-12">
            <div class="row">
                <div id="kpiRegion" class="col-md-12 col-sm-4">
        
                </div>
            </div>
        </div>
        
        <div id="desKpiDistrito" class="col-md-4 col-sm-12">
            <div class="row">
                <div id="kpiDistrito" class="col-md-12 col-sm-4">
        
                </div>
            </div>
        </div>
    
    </div>

    <div class="row mt-3" id="segundoNivel">
    
        <div id="desSupervisor" class="col-md-4 col-sm-12">
            <div class="row">
                <div class="col-md-3 col-sm-12 ">
                    <label id="labelZona" for="opcSupervisor">&nbsp;&nbsp;&nbsp;Supervisor</label>
                </div>
                <div class="col-md-9 col-sm-12">
                    <form>
                        <select name="opcSupervisor" id="opcSupervisor" class="form-control-select" style="width: 300px; margin-right: 20px;">
                            <option selected disabled>Seleccionar</option>
                        </select>
                    </form>
                </div>
            </div>
        </div>

        <div id="desTarjeta" class="col-md-4 col-sm-12">
            <div class="row">
                <div class="col-md-3 col-sm-12 ">
                    <label for="opcTarjeta">&nbsp;&nbsp;&nbsp;Tarjeta</label>
                </div>
                <div class="col-md-9 col-sm-12">
                    <form>
                        <select name="opcTarjeta" id="opcTarjeta" class="form-control-select" style="width: 300px; margin-right: 20px;">
                            <option value="todo" selected>Listado completo</option>
                            <option value="amarilla">Amarilla</option>
                            <option value="naranja">Naranja</option>
                            <option value="morada">Morada</option>
                            <option value="roja">Roja</option>
                            <option value="sinTarjeta">Sin Tarjeta</option>
                        </select>
                    </form>
                </div>
            </div>
        </div>
    
        <div id="desSemana" class="col-md-4 col-sm-12">

                <div class="col-md-1 col-sm-12 d-inline">
                    <label>&nbsp;&nbsp;&nbsp;Semana:</label>
                </div>

                <div class="col-md-11 col-sm-12 d-inline" style="margin-left: 10px;">

                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="semActual" value="semActual" disabled checked>
                        <label class="form-check-label etiqueta" for="semActual" id="numSemActual"></label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="semM2" value="semM2">
                        <label class="form-check-label etiqueta" for="semM2" id="numSemM2"></label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="semM3" value="semM3">
                        <label class="form-check-label etiqueta" for="semM3" id="numSemM3"></label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="semM4" value="semM4">
                        <label class="form-check-label etiqueta" for="semM4" id="numSemM4"></label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="semM5" value="semM5">
                        <label class="form-check-label etiqueta" for="semM5" id="numSemM5"></label>
                    </div>

                </div>

        </div>
    
    </div>

    <div id="kpiSegundoNivel" class="row">
    
        <div id="desKpiSupervisor" class="col-md-4 col-sm-12">
            <div class="row">
                <div id="kpiSupervisor" class="col-md-12 col-sm-4">
                    
                </div>
            </div>
        </div>
    
        <div class="col-md-4 col-sm-12">
            
        </div>
    
        <div class="col-md-4 col-sm-12">
            
        </div>
    
    </div>

    <div class="row" id="divAct">
        <div class="col-lg-12 col-md-12 col-sm-6" style="text-align: right;">
            <label class="tituloGris" id="ultActualizacion"></label>
    
        </div>
    </div>

    <hr>

    <div class="col-md-12 col-sm-12" id="divGrafica">
        <div id="graficas" class="row">
            <div class="col-md-11 col-sm-12">
                <div id="grafica1" style="text-align: center; height: 300px; margin-right: 20px;">

                </div>
            </div>
        </div>
    </div>
    
    <div class="col-lg-12 col-md-12 col-sm-6" id="divTabla">
        <div class="row mb-2 mr-3" id="divAct">
            <div class="col-lg-12 col-md-12 col-sm-6" style="text-align: right;">
                <input type="button" value="Excel" id="btnExcel" class="btn btn-outline-primary" />
            </div>
        </div>
        <div id="tabla" class="row">
            <div class="col-md-12 col-sm-6" style="text-align: center;">
                <div id="contenidoTabla" style="display: inline-flex;"></div>
            </div>
        </div>
    </div>

    <div id="tablaReincidencias" class="container align-items-center w-100 mt-3">
    
        <div class="row pb-3">
            <div class="col-lg-10 col-md-10 col-sm-6">
                <div class="input-group">
                    <span class="input-group-text bg-buscar">Buscar</span>
                    <div class="form-floating w-35">
                        <input type="search" class="form-control" id="distrito" placeholder="distrito">
                        <label for="distrito">Distrito</label>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="row">
            <div class="col-lg-10 col-md-10 col-sm-6">
                <div class="table-responsive">
                    <table class="table table-hover table-sm table-bordered" style="font-size: small;">
                        <thead id="titulo_tabla">
    
                        </thead>
                        <tbody id="contenido_tabla">
    
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    
    </div>

    <div class="col-md-12 col-sm-12" id="divGrafReincidencias">
        <div id="graficasReincidencias" class="row">

            <!-- Gráfica TR Mensual -->
            <div class="col-md-12 col-sm-12" style="text-align: center;">

                <div class="row mb-3">
                    <div class="col-lg-12 col-md-12 col-sm-6 text-center">
                        <label class="tituloGris" style="font-size: large;">Ticket Repetido</label>
                    </div>
                </div>
                <div id="grafica3" class="tamanhoGrafica">

                </div>
            </div>

            <!-- Gráfica IDR Mensual -->
            <div class="col-md-12 col-sm-12 mt-4" style="text-align: center;">

                <div class="row mb-3">
                    <div class="col-lg-12 col-md-12 col-sm-6 text-center">
                        <label class="tituloGris" style="font-size: large;">Índice de Reincidencias</label>
                    </div>
                </div>
                <div id="grafica22" class="tamanhoGrafica">

                </div>
            </div>

        </div>

        <!-- <br> -->

        <div class="row">
            <div class="col-lg-6 col-md-6 col-sm-6 text-center">
                <label class="tituloGris" style="font-size: small;">
                    Niveles IDR: &nbsp;&nbsp;Bueno (√) = Menor a 0.7%, &nbsp;&nbsp;Regular (!) = Entre 0.7% y 1.3%, &nbsp;&nbsp;Malo (x) = Mayor a 1.3%. 
                </label>
            </div>
        </div>

    </div>

    <div class="col-md-12 col-sm-12" id="divIndicadoresOperacion">
        <div id="graficasAutomatica" class="row">

            <!-- Gráfica BL -->
            <div class="col-md-12 col-sm-12" style="text-align: center;">
                <strong>
                    <label id="lblgrafica1BL" for="grafica1BL">Backlog</label>
                </strong>
            
                <hr>
                <!-- Listado de BL Temporalidad-->
                <!--<div class="row mt-3" id="nivelPeriodicidad">
    
                    <div id="periodicidad" class="col-md-4 col-sm-12">
                        <div class="row">
                            <div class="col-md-3 col-sm-12 ">
                                <label for="opcPeriodicidad">&nbsp;&nbsp;&nbsp;Periodicidad</label>
                            </div>
                            <div class="col-md-2 col-sm-12">
                                <form>
                                    <select name="opcPeriodicidad" id="opcPeriodicidad" class="form-control-select" style="width: 180px; margin-left: 65px;margin-top: 0px;">
                                        <option value="general" selected>General</option>
                                        <option value="pasado">Pasado</option>
                                        <option value="presente">Hoy</option>
                                        <option value="futuro">Futuro</option>
                                    </select>
                                </form>
                            </div>
                        </div>
                    </div>
                
                </div>-->
            
                <div id="grafica1BL" class="tamanhoGrafica">

                </div>

            </div>

            <!-- Gráfica 72hrs -->
            <div class="col-md-12 col-sm-12 mt-5" style="text-align: center;">
                <strong>
                    <label id="lblgrafica272" for="grafica272">Tickets más de 72 horas</label>
                </strong>

                <hr>
                <!-- style="height: 478px;"-->
                <div id="grafica272" class="tamanhoGrafica">

                </div>

            </div>

            <!-- Gráfica Incumplimientos -->
            <div class="col-md-12 col-sm-12 mt-5" style="text-align: center;">

                <strong>
                    <label id="lblgrafica3Incum" for="grafica3Incum">Incumplimientos</label>
                </strong>

                <hr>

                <div id="divTemporalidad" class="row">
                
                    <div class="col-md-2 col-sm-12" style="margin-left: 10px;">
                        <fieldset>
                
                            <legend>Temporalidad</legend>
                
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="temporalidad" id="semanal" value="semanal">
                                <label class="form-check-label etiqueta" for="semanal">Semanal</label>
                            </div>
                
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="temporalidad" id="diaria" value="diaria" checked>
                                <label class="form-check-label etiqueta" for="diaria">Diaria</label>
                            </div>
                
                        </fieldset>
                    </div>
                
                    <div class="col-md-4 col-sm-12">
                
                        <div class="form-check form-switch form-check-inline" style="margin-top: 15px;">
                            <input class="form-check-input" type="checkbox" id="inputConfirmacion" checked>
                            <label class="form-check-label" for="inputConfirmacion">Llamadas administrativas</label>
                        </div>
                
                        <div class="form-check form-switch form-check-inline">
                            <input class="form-check-input" type="checkbox" id="inputIncumplimientos" checked>
                            <label class="form-check-label" for="inputIncumplimientos">Incumplimientos</label>
                        </div>
                
                    </div>
                
                </div>

                <div id="grafica3Incum" style="text-align: center; height: 400px; margin-right: 20px;">
        
                </div>

            </div>

            <!-- Gráfica AA -->
            <div class="col-md-12 col-sm-12 mt-5" style="text-align: center;"">

                <strong>
                    <label id=" lblgrafica4AA" for="grafica4AA">Asignación Automática</label>
                </strong>
            
                <hr>
            
                <div id="grafica4AA" class="tamanhoGrafica">
            
                </div>
            
            </div>
            
            <!-- Gráfica AM -->
            <div class="col-md-12 col-sm-12 mt-5" style="text-align: center;">

                <strong>
                    <label id="lblgrafica5AM" for="grafica5AM">Activación Manual</label>
                </strong>
            
                <hr>
                <div id="grafica5AM" class="tamanhoGrafica">
            
                </div>
            
            </div>
    
        </div>
    
    </div>
    
    <br>
    
    <!-- Modal Listado Técnicos-->
    <div class="modal fade" id="listaTecnicos" tabindex="-1" aria-labelledby="listaTecnicosLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="listaTecnicosLabel"></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
    
                    <div class="row">
                        <div class="col-lg-10 col-md-10 col-sm-6">
                            <div>
                                <table class="table table-hover table-sm table-bordered" style="font-size: small;">
                                    <thead>
                                        <tr class='thead-active'>
                                            <th scope="col" style="width: 100px;" class='align-middle'>#Técnico</th>
                                            <th scope="col" style="width: 400px;">Nombre Técnico</th>
                                            <th id="s0" scope="col" style="width: 100px;" class='align-middle'></th>
                                            <th id="s1" scope="col" style="width: 100px;" class='align-middle'></th>
                                            <th id="s2" scope="col" style="width: 100px;" class='align-middle'></th>
                                            <th id="s3" scope="col" style="width: 100px;" class='align-middle'></th>
                                            <th id="s4" scope="col" style="width: 100px;" class='align-middle'></th>
                                        </tr>
                                    </thead>
                                    <tbody id="listTecnicos">
    
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
    
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal Listado OS por Técnico-->
    <div class="modal fade" id="listaOS" tabindex="-1" aria-labelledby="listaOSLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="listaOSLabel"></h5>
                </div>
                <div class="modal-body">
                    <h6 class="modal-title" id="tecnicoLabel"></h6>
                    <div class="row">
                        <div class="col-lg-10 col-md-10 col-sm-6">
                            <div>
                                <table class="table table-hover table-sm table-bordered" style="font-size: small;">
                                    <thead>
                                        <tr class='thead-active'>
                                            <th scope="col" style="width: 200px;" class='align-middle'>OS REINCIDENTE</th>
                                            <th scope="col" style="width: 250px;">TIPO OS</th>
                                            <th scope="col" style="width: 250px;">DÍAS REINCIDENCIA</th>
                                        </tr>
                                    </thead>
                                    <tbody id="listOS">
    
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
    
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" data-bs-toggle="modal"
                        data-bs-target="#listaTecnicos">Regresar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/desempenio.js"></script>
    <script src="js/graficas.js"></script>
    <script src="js/reincidencias.js"></script>
    <script src="js/tempIncumplimiento.js"></script>
    <script src="js/incumplimiento.js"></script>

</body>

</html>